(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/post/post"],{"512c":function(t,o,e){},"6ffb":function(t,o,e){"use strict";e.r(o);var n=e("baa1"),s=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(o,t,function(){return n[t]})}(a);o["default"]=s.a},a506:function(t,o,e){"use strict";var n=e("512c"),s=e.n(n);s.a},baa1:function(t,o,e){"use strict";(function(t,n){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var s=i(e("a34a")),a=i(e("26f4"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t,o,e,n,s,a,i){try{var u=t[a](i),c=u.value}catch(r){return void e(r)}u.done?o(c):Promise.resolve(c).then(n,s)}function c(t){return function(){var o=this,e=arguments;return new Promise(function(n,s){var a=t.apply(o,e);function i(t){u(a,n,s,i,c,"next",t)}function c(t){u(a,n,s,i,c,"throw",t)}i(void 0)})}}var r={data:function(){return{CustomBar:this.CustomBar,modalName:null,postcontent:"",huati:"",nr:"",huatiname:"选择话题",oosArr:[],upImgOos:{aliConfig:{AccessKeySecret:"Us5V1E9tD2bSYFWYWYsHES4lNdAXRi",OSSAccessKeyId:"LTAI9dyLJEiv09Ss",oosDirectory:"angeli-image",url:"https://sz.oss.data.angeli.top/"},notli:!0,count:9,upTextDesc:"",upBgColor:"#EFEFF4",upIconColor:"#fff",upSvgIconName:"icon-addicon",isAddImage:!0}}},onBackPress:function(){var o=this;console.log(t(this.postcontent.length," at pages\\post\\post.vue:84")),0!=this.postcontent.length&&n.showModal({title:"提示",content:"检测到输入框内还有帖子内容，是否保存草稿箱?",success:function(e){e.confirm?(n.setStorageSync("post",o.postcontent),console.log(t("储存草稿箱"," at pages\\post\\post.vue:92"))):e.cancel&&(console.log(t("用户点击取消"," at pages\\post\\post.vue:94")),n.removeStorageSync("post"))}})},onShow:function(){console.log(t(a.default.postClass," at pages\\post\\post.vue:103")),this.huati=a.default.postClass.ClassId,this.huatiname=a.default.postClass.ClassName,console.log(t(a.default.system," at pages\\post\\post.vue:106"))},onLoad:function(o){var e=n.getStorageSync("post");e&&(this.postcontent=e,this.nr=e),n.getSystemInfo({success:function(o){var e={phonebrand:o.brand+o.model,phonesystem:o.system};a.default.system=JSON.stringify(e),console.log(t(a.default.system," at pages\\post\\post.vue:123"))}})},methods:{getClassList:function(){n.navigateTo({url:"../huati/huati"})},uImageTap:function(){this.$refs.uImage.uploadimage(this.upImgOos)},delImgInfo:function(){var o=c(s.default.mark(function o(e){return s.default.wrap(function(o){while(1)switch(o.prev=o.next){case 0:console.log(t("你删除的图片地址为:",e,this.oosArr.splice(e.index,1)," at pages\\post\\post.vue:140"));case 1:case"end":return o.stop()}},o,this)}));function e(t){return o.apply(this,arguments)}return e}(),upOosData:function(){var o=c(s.default.mark(function o(e){var a,i,u;return s.default.wrap(function(o){while(1)switch(o.prev=o.next){case 0:a=[],i=0,u=e.length;case 2:if(!(i<u)){o.next=15;break}if(o.prev=3,""==e[i].path_server){o.next=7;break}return o.next=7,a.push(e[i].path_server.split(","));case 7:o.next=12;break;case 9:o.prev=9,o.t0=o["catch"](3),console.log(t("上传失败..."," at pages\\post\\post.vue:152"));case 12:i++,o.next=2;break;case 15:this.oosArr=a,a.length==this.upImgOos.count&&n.showToast({title:"上传成功",icon:"none"});case 17:case"end":return o.stop()}},o,this,[[3,9]])}));function e(t){return o.apply(this,arguments)}return e}(),textareaAInput:function(t){this.postcontent=t.target.value},sendpost:function(o){console.log(t(this.postcontent," at pages\\post\\post.vue:172")),"null"!=this.postcontent&&""!=this.postcontent?this.postcontent.length>2e3||this.postcontent.length<10?n.showToast({title:"内容最少10个字，最多2000个字",position:"bottom",icon:"none",mask:!0}):null!=this.huati&&0!=this.huati&&0!=this.huati&&"选择话题"!=this.huati?(this.huati||(this.huati=1),n.showLoading({title:"发送帖子中..",mask:!0}),console.log(t(a.default.system," at pages\\post\\post.vue:208")),n.request({method:"POST",url:"https://api.angeli.top/post.php?type=addPost",data:{imageList:this.oosArr.join().split(","),txt:this.postcontent,huati:this.huati,token:a.default.token},header:{"content-type":"application/x-www-form-urlencoded",system:a.default.system},success:function(t){n.showToast({title:t.data.msg,position:"bottom",icon:"none",duration:2e3,mask:!0}),"2"==t.data.code&&n.showToast({title:t.data.msg,position:"bottom",icon:"none",duration:2e3,mask:!0}),"1"==t.data.code&&setTimeout(function(){n.hideLoading(),n.redirectTo({url:"../Home/Home?type=plusPost"})},2e3)},complete:function(){}})):n.showToast({title:"你还没有选择话题",position:"bottom",icon:"none",mask:!0}):n.showToast({title:"请输入文字内容！",position:"bottom",icon:"none",mask:!0})}}};o.default=r}).call(this,e("0de9")["default"],e("6e42")["default"])},f7fd:function(t,o,e){"use strict";(function(t){e("7e16"),e("921b");n(e("66fd"));var o=n(e("fcb0"));function n(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,e("6e42")["createPage"])},f809:function(t,o,e){"use strict";var n=function(){var t=this,o=t.$createElement;t._self._c},s=[];e.d(o,"a",function(){return n}),e.d(o,"b",function(){return s})},fcb0:function(t,o,e){"use strict";e.r(o);var n=e("f809"),s=e("6ffb");for(var a in s)"default"!==a&&function(t){e.d(o,t,function(){return s[t]})}(a);e("a506");var i=e("2877"),u=Object(i["a"])(s["default"],n["a"],n["b"],!1,null,null,null);o["default"]=u.exports}},[["f7fd","common/runtime","common/vendor"]]]);