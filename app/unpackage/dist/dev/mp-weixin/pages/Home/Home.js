(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/Home/Home"],{

/***/ 24:
/*!****************************************************************!*\
  !*** D:/Web/angeli/app/main.js?{"page":"pages%2FHome%2FHome"} ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 4);__webpack_require__(/*! @dcloudio/uni-stat */ 5);

var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 2));
var _Home = _interopRequireDefault(__webpack_require__(/*! ./pages/Home/Home.vue */ 25));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
createPage(_Home.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 25:
/*!*********************************************!*\
  !*** D:/Web/angeli/app/pages/Home/Home.vue ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Home_vue_vue_type_template_id_7f073236___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Home.vue?vue&type=template&id=7f073236& */ 26);
/* harmony import */ var _Home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Home.vue?vue&type=script&lang=js& */ 28);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _Home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _Home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _Home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Home.vue?vue&type=style&index=0&lang=css& */ 30);
/* harmony import */ var _E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/vue-loader/lib/runtime/componentNormalizer.js */ 14);






/* normalize component */

var component = Object(_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _Home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _Home_vue_vue_type_template_id_7f073236___WEBPACK_IMPORTED_MODULE_0__["render"],
  _Home_vue_vue_type_template_id_7f073236___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "D:/Web/angeli/app/pages/Home/Home.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 26:
/*!****************************************************************************!*\
  !*** D:/Web/angeli/app/pages/Home/Home.vue?vue&type=template&id=7f073236& ***!
  \****************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_hbuilderx_packages_webpack_uni_nvue_loader_lib_templateLoader_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Home_vue_vue_type_template_id_7f073236___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Home.vue?vue&type=template&id=7f073236& */ 27);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_hbuilderx_packages_webpack_uni_nvue_loader_lib_templateLoader_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Home_vue_vue_type_template_id_7f073236___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_hbuilderx_packages_webpack_uni_nvue_loader_lib_templateLoader_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Home_vue_vue_type_template_id_7f073236___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ 27:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/Web/angeli/app/pages/Home/Home.vue?vue&type=template&id=7f073236& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  if (!_vm._isMounted) {
    _vm.e0 = function($event) {
      _vm.showJubao = false
    }
  }
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 28:
/*!**********************************************************************!*\
  !*** D:/Web/angeli/app/pages/Home/Home.vue?vue&type=script&lang=js& ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _E_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Home.vue?vue&type=script&lang=js& */ 29);
/* harmony import */ var _E_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_E_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _E_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _E_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_E_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 29:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/Web/angeli/app/pages/Home/Home.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;














































































































































































































































































var _server = _interopRequireDefault(__webpack_require__(/*! ../../server.js */ 15));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}var uniLoadMore = function uniLoadMore() {return __webpack_require__.e(/*! import() | components/uni-load-more */ "components/uni-load-more").then(__webpack_require__.bind(null, /*! @/components/uni-load-more.vue */ 181));};var _default =


{
  components: {
    uniLoadMore: uniLoadMore },

  data: function data() {
    return {
      Dindex: [],

      CustomBar: this.CustomBar,
      modalName: null,
      AvatarUrl: "",
      TabCur: 0,
      showAppFenxiang: false,
      gaodu: 0,
      msgNumber: 0,
      weikong: true,
      username: "游客",
      page: 1,
      postList: [],
      scrollTop: 0,
      old: {
        scrollTop: 0 },

      status: 'loading',
      statusTypes: [{
        value: 'more',
        text: '加载前',
        checked: true },
      {
        value: 'loading',
        text: '加载中',
        checked: false },
      {
        value: 'noMore',
        text: '我是有底线的',
        checked: false }],

      contentText: {
        contentdown: '查看更多',
        contentrefresh: '加载中',
        contentnomore: '我是有底线的' },

      zhongcao: "0",
      guanzhu: "0",
      userid: "0",
      fensi: "0",
      dengji: "0",
      tuijianren: 0,
      systemConfig: '',
      index: false,
      userInfo: [],
      postype: 'new',
      menuList: ['分享给朋友', '生成海报', '举报'],
      openmenu: false,
      shebei: '',
      iosapy: 'no',
      jubao: {
        postid: 0,
        authorid: 0 },

      jubaoliyou: '',
      showJubao: false };

  },
  onShow: function onShow() {var _this = this;

































    uni.request({
      method: 'GET',
      url: "https://api.angeli.top/user.php?type=getMyNoRead",
      data: {
        auid: this.userid,
        token: _server.default.token },

      header: {
        'content-type': 'application/x-www-form-urlencoded' },

      success: function success(res) {
        _this.iosapy = res.data.data.pay;
        if (res.data.code == "1") {
          _this.msgNumber = res.data.data.count;
        } else {

        }
      } });





































  },
  onLoad: function onLoad(e) {var _this2 = this;








































    //setTimeout(this.getVersion(), 3000)
    this.shebei = uni.getSystemInfoSync().platform;
    uni.getSystemInfo({
      success: function success(res) {
        var systemjson = {
          phonebrand: res.brand + res.model,
          phonesystem: res.system };

        _server.default.system = JSON.stringify(systemjson);
        console.log(_server.default.system);
      } });

    this.tuijianren = e.tuijianid;
    _server.default.tgid = this.tuijianren;
    this.postList = [];
    console.log("推荐人ID", this.tuijianren);




    //上面只在APP，下面仅在微信小程序

    if (_server.default.token == "" || _server.default.token == null) {
      uni.login({
        provider: 'weixin',
        success: function success(res) {
          console.log(res);
          uni.request({
            method: 'POST',
            url: 'https://api.angeli.top/reg.php?type=wxlogin', //仅为示例，并非真实接口地址。
            data: {
              code: res.code,
              tuijianId: _this2.tuijianren },

            header: {
              'content-type': 'application/x-www-form-urlencoded',
              'system': _server.default.system },

            success: function success(res) {
              console.log(res);
              if (res.data.code == "0") {
                _server.default.usersk = res.data.data.session_key;
                uni.showToast({
                  title: "欢迎你，游客",
                  position: 'bottom',
                  icon: 'none' });

                _this2.AvatarUrl = "https://sz.oss.data.angeli.top/angeli-image/1562320238188110.png";
              } else if (res.data.code == "1" || res.data.code == "2") {
                _this2.AvatarUrl = res.data.data.AvatarUrl;
                _this2.username = res.data.data.UserName;
                _this2.zhongcao = res.data.data.ZhongcaoCount;
                _this2.guanzhu = res.data.data.FollowedCount;
                _this2.fensi = res.data.data.FollowerCount;
                _this2.dengji = res.data.data.Rank;
                _this2.userid = res.data.data.Auid;
                _this2.userInfo = res.data.data;
                _server.default.token = res.data.token;
                _server.default.userinfo = res.data.data;

                if (res.data.code == "2") {
                  uni.showToast({
                    title: res.data.msg,
                    position: 'bottom',
                    icon: 'none' });

                } else {
                  if (_this2.userInfo.VIPEndTime > 0) {
                    uni.showToast({
                      title: '欢迎VIP：' + _this2.username,
                      position: 'bottom',
                      icon: 'none' });

                  } else {
                    uni.showToast({
                      title: '欢迎你,' + _this2.username,
                      position: 'bottom',
                      icon: 'none' });

                    _this2.getPostData('new', 0);
                  }
                }

              }
            },
            complete: function complete() {
              _this2.getPostData('new', 0);
            },
            fail: function fail(src) {
              uni.showToast({
                title: "未知原因，登录失败！",
                position: 'bottom',
                icon: 'none' });

              _this2.getPostData('new', 0);
            } });

        },
        fail: function fail(err) {
          uni.showToast({
            title: "登录失败呢！关闭之后重新打开吧！",
            position: 'bottom' }),

          console.error('授权登录失败：' + JSON.stringify(err));
          _this2.getPostData('new', 0);
        } });

    } else {
      if (_server.default.userinfo.VIPEndTime > 0) {
        uni.showToast({
          title: '欢迎VIP：' + _server.default.userinfo.username,
          position: 'bottom',
          icon: 'none' });

      } else {
        uni.showToast({
          title: '欢迎你,' + _server.default.userinfo.username,
          position: 'bottom',
          icon: 'none' });


      }
      this.getPostData('new', 0);
    }


    this.getSysConfig('home_txt');
    //this.getPostData('new',0);

    this.shebei = uni.getSystemInfoSync().platform;
    console.log(this.shebei);
  },
  onReady: function onReady() {
    this.getHei();


  },
  methods: {
    appFenxiang: function appFenxiang(id, type) {
      switch (id) {
        case 0:
          this.showAppFenxiang = false;
          break;
        case 1:
          uni.setClipboardData({
            data: 'http://share.angeli.top/?postId=' + this.postid,
            success: function success() {
              console.log('success');
            } });

          console.log('复制链接');
          break;
        case 2:
          console.log(this.Dindex.PictureId[0]);
          console.log(this.Dindex.Content);
          console.log('http://share.angeli.top/?postId=' + this.Dindex.PostsId);
          uni.share({
            provider: 'weixin',
            scene: "WXSceneSession",
            type: 5,
            imageUrl: this.Dindex.PictureId[0],
            title: this.Dindex.Content,
            miniProgram: {
              id: 'gh_a38adc10b952',
              path: 'pages/postinfo/postinfo?id=' + this.Dindex.PostsId,
              type: 0,
              webUrl: 'http://share.angeli.top/?postId=' + this.Dindex.PostsId },

            success: function success(ret) {
              console.log(JSON.stringify(ret));
            },
            fail: function fail(err) {
              console.log("fail:" + JSON.stringify(err));
            } });

          break;
        case 3:
          uni.share({
            provider: "weixin",
            scene: "WXSenceTimeline",
            type: 0,
            href: 'http://share.angeli.top/?postId=' + this.Dindex.PostsId,
            title: this.Dindex.Content,
            summary: this.Dindex.Content,
            imageUrl: this.Dindex.PictureId[0],
            success: function success(res) {
              console.log("success:" + JSON.stringify(res));
            },
            fail: function fail(err) {
              console.log("fail:" + JSON.stringify(err));
            } });

          break;
        case 4:
          uni.share({
            provider: "qq",
            type: 1,
            href: 'http://share.angeli.top/?postId=' + this.Dindex.PostsId,
            summary: this.Dindex.Content,
            title: this.Dindex.Content,
            imageUrl: this.Dindex.PictureId[0],
            success: function success(res) {
              console.log("success:" + JSON.stringify(res));
            },
            fail: function fail(err) {
              console.log("fail:" + JSON.stringify(err));
            } });

          break;
        default:}


    },
    getVersion: function getVersion() {
      uni.request({
        method: 'GET',
        url: "https://api.angeli.top/post.php?type=getVersion",
        header: {
          'content-type': 'application/x-www-form-urlencoded' },

        success: function success(res) {
          console.log(res);
          if (res.data.code == "1") {
            if (_server.default.Version < res.data.data.version) {
              console.log(res.data.data);
              uni.showModal({
                title: '应用更新',
                content: '发现安个利新版本，是否安装升级？',
                success: function success(ok) {
                  if (ok.confirm) {
                    console.log(res.data.data.downloadUrl);
                    plus.runtime.openURL(res.data.data.downloadUrl);
                    _server.default.update = true;
                  }
                } });

            }
          }
        } });

    },
    sendjubao: function sendjubao() {

      this.$jubao(this.jubao.postid, _server.default.userinfo.Auid, this.jubao.authorid, this.jubaoliyou);
      this.showJubao = false;
      uni.showToast({
        title: '举报成功',
        position: 'bottom',
        icon: 'none' });

    },
    plusbutton: function plusbutton() {
      this.openmenu = this.openmenu ? false : true;
    },
    guanzhua: function guanzhua() {
      uni.navigateTo({
        url: '../menu/guanzhu' });

    },
    jubaoliyouinput: function jubaoliyouinput(res) {
      this.jubaoliyou = res.target.value;
    },
    fensia: function fensia() {
      uni.navigateTo({
        url: '../menu/newFans' });

    },
    aotuloding: function aotuloding() {
      uni.showToast(_defineProperty({
        title: "刚刚出现问题，已经为你修复",
        position: 'bottom',
        icon: 'none' }, "position",
      'center'));

      this.getPostData('new', 0);
    },
    getshop: function getshop() {
      this.systemConfig = "商城正在建设中";
      this.modalName = 'DialogModal2';
    },
    getSysConfig: function getSysConfig(name) {var _this3 = this;
      uni.request({
        method: 'GET',
        url: "https://api.angeli.top/user.php?type=getSysConfig", //仅为示例，并非真实接口地址。
        data: {
          configName: name,
          token: _server.default.token },

        header: {
          'content-type': 'application/x-www-form-urlencoded' },

        success: function success(res) {
          console.log(res);
          if (res.data.code == "1") {
            _this3.systemConfig = res.data.data;
            if (!res.data.data) {
              _this3.modalName = '';
            } else {
              _this3.modalName = 'DialogModal2';
            }
          }
          console.log(_this3.msgNumber);
        },
        complete: function complete() {

        } });

    },
    getFriend: function getFriend() {
      uni.navigateTo({
        url: '../menu/friend' });

    },
    getbieren: function getbieren(e) {
      if (e == _server.default.userinfo.Auid) {
        uni.navigateTo({
          url: '../i/i' });

      } else {
        uni.navigateTo({
          url: '../i/bieren?auid=' + e });

      }
    },
    getShoucang: function getShoucang() {
      uni.navigateTo({
        url: '../menu/shoucang' });

    },
    getJifen: function getJifen() {
      uni.navigateTo({
        url: '../menu/jifen' });

    },
    getMessage: function getMessage() {
      uni.navigateTo({
        url: '../menu/Message' });

    },
    wallet: function wallet() {
      uni.navigateTo({
        url: '../menu/wallet' });

    },
    set: function set() {
      uni.navigateTo({
        url: '../set/set' });

    },
    logout: function logout() {
      uni.clearStorage();
      uni.showToast(_defineProperty({
        title: "已退出登录",
        position: 'bottom',
        icon: 'none' }, "position",
      'center'));

      _server.default.userinfo = [];
      _server.default.cookie = "";
      this.modalName = null;

    },
    cs: function cs(e) {
      this.old.scrollTop = e.detail.scrollTop;
    },
    sousuo: function sousuo() {
      uni.navigateTo({
        url: '../sousuo/sousuo' });

    },
    getClass: function getClass(id) {
      uni.navigateTo({
        url: '../classPost/classPost?id=' + id });

    },
    showModal: function showModal(e) {var _this4 = this;
      this.modalName = e.currentTarget.dataset.target;
      this.AvatarUrl = _server.default.userinfo.AvatarUrl;
      this.username = _server.default.userinfo.UserName;
      this.zhongcao = _server.default.userinfo.ZhongcaoCount;
      this.guanzhu = _server.default.userinfo.FollowedCount;
      this.fensi = _server.default.userinfo.FollowerCount;
      this.dengji = _server.default.userinfo.Rank;
      this.userid = _server.default.userinfo.Auid;
      console.log("测试！：", this.username);
      //请求 https://api.angeli.top/user.php?type=getMyNoRead
      uni.request({
        method: 'GET',
        url: "https://api.angeli.top/user.php?type=getMyNoRead",
        data: {
          auid: this.userid,
          token: _server.default.token },

        header: {
          'content-type': 'application/x-www-form-urlencoded' },

        success: function success(res) {
          console.log(res);
          if (res.data.code == "1") {
            _this4.msgNumber = res.data.data.count;
          } else {

          }
          console.log(_this4.msgNumber);
        },
        complete: function complete() {

        } });

    },
    hideModal: function hideModal(e) {
      this.modalName = null;
    },
    tabSelect: function tabSelect(e) {
      this.TabCur = e;
      this.scrollTop = this.old.scrollTop;
      this.$nextTick(function () {
        this.scrollTop = 0;
      });
      console.log(e);
      if (e == 0) {//最新
        this.getPostData('new', 0);
        this.postype = 'new';
      } else if (e == 1) {//最热
        this.postype = 'hot';
        this.getPostData('hot', 0);

      } else if (e == 2) {//关注
        this.postype = 'guanzhu';
        this.getPostData('guanzhu', 0);
      }

    },
    Like: function Like(postid, auid, give, index, zc) {var _this5 = this;
      if (_server.default.token == "" || _server.default.token == null) {
        uni.showToast({
          title: "你还没有登录，请登录后再来吧",
          position: 'bottom',
          icon: 'none' });

        setTimeout(function () {
          uni.navigateTo({
            url: '../reg/reg' });

        }, 1200);
        return;
      }

      if (auid == _server.default.userinfo.Auid) {
        uni.showToast({
          title: "不能给自己种草",
          position: 'bottom',
          icon: 'none' });

        return;
      }

      if (give === true) {
        var modea = 'del';
      } else {
        var modea = 'add';
      }
      uni.request({
        method: 'GET',
        url: "https://api.angeli.top/post.php?type=Like",
        data: {
          fuid: auid,
          postid: postid,
          mode: modea,
          token: _server.default.token },

        header: {
          'content-type': 'application/x-www-form-urlencoded',
          'system': _server.default.system },

        success: function success(res) {
          if (res.data.code == "1") {
            if (modea == 'add') {
              _this5.postList[index].ZhongcaoCount = Number(zc) + 1;
              _this5.postList[index].Give = true;
              uni.showToast({
                title: "种草成功！",
                position: 'bottom',
                icon: 'none' });

            } else {
              _this5.postList[index].ZhongcaoCount = Number(zc) - 1;
              _this5.postList[index].Give = false;
              uni.showToast({
                title: "取消种草成功！",
                position: 'bottom',
                icon: 'none' });

            }
            _this5.$forceUpdate();
          } else {

            uni.showToast({
              title: "种草失败！",
              position: 'bottom',
              icon: 'none' });

          }
        },
        complete: function complete() {

        } });

    },
    caidan: function caidan(resa) {var _this6 = this;
      console.log(resa);
      this.Dindex = resa;
      if (resa.AuthorId == _server.default.userinfo.Auid) {
        this.menuList = ['分享', '举报', '删除帖子'];
      } else {
        this.menuList = ['分享', '举报'];
      }
      uni.showActionSheet({
        itemList: this.menuList,
        success: function success(res) {
          switch (res.tapIndex) {
            case 0:
              _this6.showAppFenxiang = true;
              break;
            case 1:
              _this6.showJubao = true;
              _this6.jubao.postid = resa.PostsId;
              _this6.jubao.authorid = resa.AuthorId;


              break;
            case 2:
              _this6.$delPost(resa.PostsId);
              break;
            default:}


        },
        fail: function fail(res) {
          console.log(res.errMsg);
        } });

    },
    getHei: function getHei() {var _this7 = this;

      var view = uni.createSelectorQuery().select("#topbox");
      view.fields({
        size: true,
        scrollOffset: true },
      function (data) {
        _this7.gaodu = data.height - 5;
        console.log("总高度：" + _this7.gaodu);
      }).exec();
    },
    showImage: function showImage(res, c) {
      var imageurl = res[c];
      uni.previewImage({
        current: c,
        urls: res,
        longPressActions: {
          itemList: ['保存图片'],
          success: function success(resa) {

            uni.downloadFile({
              url: imageurl,
              success: function success(res) {
                console.log(res);
                if (res.statusCode === 200) {
                  uni.saveImageToPhotosAlbum({
                    filePath: res.tempFilePath,
                    success: function success() {
                      uni.showToast({
                        title: '已保存',
                        position: 'bottom',
                        icon: 'none' });

                    } });

                } else {
                  uni.showToast({
                    title: '保存失败',
                    position: 'bottom',
                    icon: 'none' });

                }
              } });


          },
          fail: function fail(res) {
            console.log(res.errMsg);
          } } });


    },
    getPostData: function getPostData(type, classId) {var _this8 = this;
      console.log(type);
      this.page = 1;
      uni.request({
        method: 'GET',
        url: 'https://api.angeli.top/post.php?type=outPostList',
        data: {
          page: 1,
          postType: type,
          count: 10,
          classId: classId,
          token: _server.default.token },

        header: {
          'content-type': 'application/x-www-form-urlencoded' },

        success: function success(res) {

          _this8.postList = [];
          console.log(res.data.data);
          console.log("————————————帖子列表——————————");
          _this8.postList = res.data.data;
          console.log(_this8.postList);
          _this8.weikong = false;
          if (res.data.code !== "1") {
            uni.showToast({
              title: '获取帖子失败，建议重启',
              position: 'bottom',
              icon: 'none' });

          }
          if (res.data.data == false) {
            _this8.weikong = true;
          }
          //this.$forceUpdate();
        },
        complete: function complete() {
          _this8.$forceUpdate();
        } });


    },
    reguser: function reguser() {
      if (_server.default.token == "" || _server.default.token == null) {
        uni.navigateTo({
          url: '../reg/reg' });

      } else {
        uni.navigateTo({
          url: '../i/i' });

      }
    },
    getVip: function getVip() {
      uni.navigateTo({
        url: '../vip/vip' });

    },
    pluspost: function pluspost() {
      console.log("发帖：", _server.default.userinfo.Auid);
      if (_server.default.token == "" || _server.default.token == null) {
        uni.showToast({
          title: "你还没有登录，请登录后再来吧",
          position: 'bottom',
          icon: 'none' });

        setTimeout(function () {
          uni.navigateTo({
            url: '../reg/reg' });

        }, 1200);
      } else {
        uni.navigateTo({
          url: '../post/post' });

      }

    },
    EndLoding: function EndLoding(e) {var _this9 = this;
      this.page++;
      console.log(this.scrollTop);
      uni.request({
        method: 'GET',
        url: 'https://api.angeli.top/post.php?type=outPostList', //仅为示例，并非真实接口地址。
        data: {
          page: this.page,
          postType: this.postype,
          sort: 'PsotDate',
          count: 10,
          token: _server.default.token },

        header: {
          'content-type': 'application/x-www-form-urlencoded' },

        success: function success(res) {
          console.log("————————————帖子列表——————————" + _this9.page);
          if (res.data.data.length == undefined) {
            _this9.page--;
            _this9.status = "noMore";
          } else {
            _this9.postList = _this9.postList.concat(res.data.data);
            _this9.status = "loading";
            console.log(_this9.postList);
          }


        } });

    },
    getpostinfo: function getpostinfo(id) {
      uni.navigateTo({
        url: '../postinfo/postinfo?id=' + id });

    } },

  onShareAppMessage: function onShareAppMessage(res) {
    if (res.from === 'button') {// 来自页面内分享按钮
      console.log(res.target);
    }
    return {
      title: "超级无敌安个利",
      path: '/pages/Home/Home',
      desc: "超级无敌安个利！" };

  } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 30:
/*!******************************************************************************!*\
  !*** D:/Web/angeli/app/pages/Home/Home.vue?vue&type=style&index=0&lang=css& ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _E_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_E_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_E_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Home.vue?vue&type=style&index=0&lang=css& */ 31);
/* harmony import */ var _E_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_E_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_E_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_E_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_E_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_E_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _E_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_E_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_E_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _E_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_E_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_E_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_E_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_E_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_E_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 31:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/Web/angeli/app/pages/Home/Home.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ })

},[[24,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/Home/Home.js.map