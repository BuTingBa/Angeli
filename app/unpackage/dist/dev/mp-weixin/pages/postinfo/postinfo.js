(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/postinfo/postinfo"],{

/***/ 59:
/*!************************************************************************!*\
  !*** D:/Web/angeli/app/main.js?{"page":"pages%2Fpostinfo%2Fpostinfo"} ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 4);__webpack_require__(/*! @dcloudio/uni-stat */ 5);

var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 2));
var _postinfo = _interopRequireDefault(__webpack_require__(/*! ./pages/postinfo/postinfo.vue */ 60));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
createPage(_postinfo.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 60:
/*!*****************************************************!*\
  !*** D:/Web/angeli/app/pages/postinfo/postinfo.vue ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _postinfo_vue_vue_type_template_id_fd2e8c76___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./postinfo.vue?vue&type=template&id=fd2e8c76& */ 61);
/* harmony import */ var _postinfo_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./postinfo.vue?vue&type=script&lang=js& */ 63);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _postinfo_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _postinfo_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _postinfo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./postinfo.vue?vue&type=style&index=0&lang=css& */ 65);
/* harmony import */ var _E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/vue-loader/lib/runtime/componentNormalizer.js */ 14);






/* normalize component */

var component = Object(_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _postinfo_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _postinfo_vue_vue_type_template_id_fd2e8c76___WEBPACK_IMPORTED_MODULE_0__["render"],
  _postinfo_vue_vue_type_template_id_fd2e8c76___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "D:/Web/angeli/app/pages/postinfo/postinfo.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 61:
/*!************************************************************************************!*\
  !*** D:/Web/angeli/app/pages/postinfo/postinfo.vue?vue&type=template&id=fd2e8c76& ***!
  \************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_hbuilderx_packages_webpack_uni_nvue_loader_lib_templateLoader_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_postinfo_vue_vue_type_template_id_fd2e8c76___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./postinfo.vue?vue&type=template&id=fd2e8c76& */ 62);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_hbuilderx_packages_webpack_uni_nvue_loader_lib_templateLoader_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_postinfo_vue_vue_type_template_id_fd2e8c76___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_hbuilderx_packages_webpack_uni_nvue_loader_lib_templateLoader_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_postinfo_vue_vue_type_template_id_fd2e8c76___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ 62:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/Web/angeli/app/pages/postinfo/postinfo.vue?vue&type=template&id=fd2e8c76& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 63:
/*!******************************************************************************!*\
  !*** D:/Web/angeli/app/pages/postinfo/postinfo.vue?vue&type=script&lang=js& ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _E_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_postinfo_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./postinfo.vue?vue&type=script&lang=js& */ 64);
/* harmony import */ var _E_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_postinfo_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_E_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_postinfo_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _E_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_postinfo_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _E_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_postinfo_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_E_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_postinfo_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 64:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/Web/angeli/app/pages/postinfo/postinfo.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;

































































































































var _server = _interopRequireDefault(__webpack_require__(/*! ../../server.js */ 15));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };} //
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
var _default = { data: function data() {return { postInfo: [], pllist: [], dslist: [], showVip: false, InputBottom: 0, plnr: "", xzId: 1, postid: "", setvar: "", Give: "0", huifu: false, gaodu: '-710px', yanse: 'rgba(0,0,0,0)', pluid: "", monnumber: 1, shunxu: false };}, onShareAppMessage: function onShareAppMessage(res) {if (res.from === 'button') {// 来自页面内分享按钮
      console.log(res.target);}return { title: this.postInfo.Content, path: '/pages/postinfo/postinfo?id=' + this.postid, desc: this.postInfo.Content, imageUrl: this.postInfo.PictureId[0] };}, onLoad: function onLoad(option) {var _this = this; //option为object类型，会序列化上个页面传递的参数
    console.log('ID:', option.id); //打印出上个页面传递的参数。
    this.postid = option.id;this.getdsList(this.postid);uni.getSystemInfo({ success: function success(res) {var systemjson = { phonebrand: res.brand + res.model, phonesystem: res.system };_server.default.system = JSON.stringify(systemjson);console.log(_server.default.system);} });if (option.type == 'fenxiang') {if (_server.default.userinfo.Auid == "" || _server.default.userinfo.Auid == null) {uni.showLoading({ title: '加载中' });uni.login({ provider: 'weixin', success: function success(res) {console.log(res);uni.request({ method: 'POST', url: 'https://api.angeli.top/reg.php?type=wxlogin', //仅为示例，并非真实接口地址。
              data: { code: res.code, tuijianId: _this.tuijianren }, header: { 'content-type': 'application/x-www-form-urlencoded' }, success: function success(res) {console.log(res);if (res.data.code == "0") {_server.default.usersk = res.data.data.session_key;uni.showToast({ title: "欢迎你，游客", position: 'bottom', icon: 'none' });_this.AvatarUrl = "https://sz.oss.data.angeli.top/angeli-image/1562320238188110.png";} else if (res.data.code == "1" || res.data.code == "2") {_this.AvatarUrl = res.data.data.AvatarUrl;_this.username = res.data.data.UserName;_this.zhongcao = res.data.data.ZhongcaoCount;_this.guanzhu = res.data.data.FollowedCount;_this.fensi = res.data.data.FollowerCount;_this.dengji = res.data.data.Rank;_this.userid = res.data.data.Auid;_this.userInfo = res.data.data;_server.default.userinfo = res.data.data;_server.default.cookie = res.header['Set-Cookie'];console.log("记录cookie：", _server.default.cookie);if (res.data.code == "2") {uni.showToast({ title: res.data.msg, position: 'bottom', icon: 'none' });} else {if (_this.userInfo.VIPEndTime > 0) {uni.showToast({ title: '欢迎VIP：' + _this.username, position: 'bottom', icon: 'none' });} else {uni.showToast({ title: '欢迎你,' + _this.username, position: 'bottom', icon: 'none' });}}}}, complete: function complete() {_this.getpostinfo(option.id);uni.hideLoading();}, fail: function fail(src) {uni.showToast({ title: "未知原因，登录失败！", position: 'bottom', icon: 'none' });} });}, fail: function fail(err) {uni.showToast({ title: "登录失败", position: 'bottom' }), _this.getpostinfo(option.id);console.error('授权登录失败：' + JSON.stringify(err));} });
      } else {
        if (_server.default.userinfo.VIPEndTime > 0) {
          uni.showToast({
            title: '欢迎VIP：' + _server.default.userinfo.username,
            position: 'bottom',
            icon: 'none' });

        } else {
          uni.showToast({
            title: '欢迎你,' + _server.default.userinfo.username,
            position: 'bottom',
            icon: 'none' });


        }
        this.getpostinfo(option.id);
      }
    } else {
      this.getpostinfo(option.id);
    }

    console.log(this.dslist);
  },

  methods: {
    getpostinfo: function getpostinfo(postid) {var _this2 = this;
      uni.showLoading({
        title: '加载中' });

      uni.request({
        method: 'GET',
        url: 'https://api.angeli.top/post.php?type=outPostInfo',
        data: {
          id: postid },

        header: {
          'content-type': 'application/x-www-form-urlencoded',
          'Cookie': _server.default.cookie,
          'system': _server.default.system },

        success: function success(res) {
          console.log("————————————帖子详情——————————");
          _this2.postInfo = res.data.data;
          console.log(_this2.postInfo);
          _this2.getplLista(postid);
        },
        complete: function complete() {

        } });

    },
    getplLista: function getplLista(postid) {var _this3 = this;
      uni.request({
        method: 'GET',
        url: 'https://api.angeli.top/post.php?type=getpl',
        data: {
          postid: postid,
          xu: this.shunxu,
          count: 40,
          page: 1 },

        header: {
          'content-type': 'application/x-www-form-urlencoded',
          'Cookie': _server.default.cookie,
          'system': _server.default.system },

        success: function success(res) {
          console.log("————————————评论详情——————————");
          _this3.pllist = res.data.data;
          console.log(_this3.pllist);
        },
        complete: function complete() {
          uni.hideLoading();
        } });

    },
    setshunxu: function setshunxu() {
      if (this.shunxu) {
        this.shunxu = false;
      } else {
        this.shunxu = true;
      }
      console.log(this.shunxu);
      this.getplLista(this.postid);
    },
    getpllist: function getpllist(CommentsId) {
      uni.navigateTo({
        url: 'plinfo?CommentsId=' + CommentsId + "&postId=" + this.postid });

    },
    getClass: function getClass(id) {
      uni.navigateTo({
        url: '../classPost/classPost?id=' + id });

    },
    caidan: function caidan(resa) {var _this4 = this;
      console.log(resa);
      this.Dindex = resa;
      if (resa.AuthorId == _server.default.userinfo.Auid) {
        this.menuList = ['生成海报', '举报', '删除帖子'];
      } else {
        this.menuList = ['生成海报', '举报'];
      }
      uni.showActionSheet({
        itemList: this.menuList,
        success: function success(res) {
          switch (res.tapIndex) {
            case 0:
              uni.showToast({
                title: "生成海报还在内测中",
                position: 'bottom',
                icon: 'none' });

              break;
            case 1:
              uni.showToast({
                title: '举报成功',
                position: 'bottom',
                icon: 'none' });

              _this4.$jubao(resa.PostsId, _server.default.userinfo.Auid, resa.AuthorId, '没有理由');
              break;
            case 2:
              uni.showToast({
                title: '已删除',
                position: 'bottom',
                icon: 'none' });

              _this4.$delPost(resa.PostsId);
              break;
            default:}


        },
        fail: function fail(res) {
          console.log(res.errMsg);
        } });

    },
    getbieren: function getbieren(e) {
      if (e == _server.default.userinfo.Auid) {
        uni.navigateTo({
          url: '../i/i' });

      } else {
        uni.navigateTo({
          url: '../i/bieren?auid=' + e });

      }
    },
    getdsList: function getdsList(postid) {var _this5 = this;
      uni.request({
        method: 'GET',
        url: "https://api.angeli.top/post.php?type=getDashangList&postId=" + postid, //仅为示例，并非真实接口地址。
        data: {},


        header: {
          'content-type': 'application/x-www-form-urlencoded',
          'Cookie': _server.default.cookie },

        success: function success(res) {
          if (res.data.code == "1") {
            _this5.dslist = res.data.data;
            console.log("打赏输出");
            console.log(_this5.dslist);
            _this5.$forceUpdate();
          } else {
            _this5.dslist = 0;
          }
        },
        complete: function complete() {

        } });

    },
    getList: function getList() {
      uni.navigateTo({
        url: "dashang?id=" + this.postid });

    },
    getDashang: function getDashang() {var _this6 = this;
      if (this.postInfo.AuthorId == _server.default.userinfo.Auid) {
        uni.showToast({
          title: "不能给自己打赏",
          position: 'bottom',
          icon: 'none' });

        return;
      }
      console.log(this.monnumber);
      uni.request({
        method: 'GET',
        url: "https://api.angeli.top/post.php?type=dashang", //仅为示例，并非真实接口地址。
        data: {
          toid: this.postInfo.AuthorId,
          postid: this.postid,
          number: this.monnumber },

        header: {
          'content-type': 'application/x-www-form-urlencoded',
          'Cookie': _server.default.cookie,
          'system': _server.default.system },

        success: function success(res) {
          if (res.data.code == "1") {
            _this6.showVip = false;
            _this6.gaodu = '-710px';
            _this6.yanse = 'rgba(0,0,0,0)';
            uni.showToast({
              title: "打赏成功！",
              position: 'bottom',
              icon: 'none' });


            _this6.$forceUpdate();
          } else {

            uni.showToast({
              title: res.data.msg,
              position: 'bottom',
              icon: 'none' });

          }
        },
        complete: function complete() {

        } });


    },
    hideVip: function hideVip() {
      this.showVip = false;
      this.gaodu = '-710px';
      this.yanse = 'rgba(0,0,0,0)';
    },
    xuanze: function xuanze(e) {
      switch (e) {
        case 1:
          this.monnumber = 1;
          break;
        case 2:
          this.monnumber = 5;
          break;
        case 3:
          this.monnumber = 10;
          break;
        case 4:
          this.monnumber = 20;
          break;
        default:
          this.monnumber = 1;
          break;}

      this.xzId = e;
      /* 新思路,点赞改变列表状态可以使用该方法,:class="当前ID是否等于列子ID，如果是那么就点赞，如果不是就没有点赞，"
                     但是,这样只能存在一个点赞状态,其他的状态就会消失,带思考 */
    },
    showKaitong: function showKaitong() {
      this.showVip = true;
      this.gaodu = '0px';
      this.yanse = 'rgba(0,0,0,0.4)';
    },
    Like: function Like(postid, auid, give, zc) {var _this7 = this;
      if (_server.default.userinfo.Auid == "" || _server.default.userinfo.Auid == null) {
        uni.showToast({
          title: "你还没有登录，请登录后再来吧",
          position: 'bottom',
          icon: 'none' });

        setTimeout(function () {
          uni.navigateTo({
            url: '../reg/reg' });

        }, 1200);
        return;
      }
      if (auid == _server.default.userinfo.Auid) {
        uni.showToast({
          title: "不能给自己种草",
          position: 'bottom',
          icon: 'none' });

        return;
      }
      if (give === true) {
        var modea = 'del';
      } else {
        var modea = 'add';
      }
      uni.request({
        method: 'GET',
        url: "https://api.angeli.top/post.php?type=Like",
        data: {
          fuid: auid,
          postid: postid,
          mode: modea },

        header: {
          'content-type': 'application/x-www-form-urlencoded',
          'Cookie': _server.default.cookie,
          'system': _server.default.system },

        success: function success(res) {
          if (res.data.code == "1") {
            if (modea == 'add') {
              _this7.postInfo.Give = true;
              _this7.postInfo.ZhongcaoCount = Number(zc) + 1;
              uni.showToast({
                title: "种草成功！",
                position: 'bottom',
                icon: 'none' });

            } else {
              _this7.postInfo.Give = false;
              _this7.postInfo.ZhongcaoCount = Number(zc) - 1;
              uni.showToast({
                title: "取消种草成功！",
                position: 'bottom',
                icon: 'none' });

            }

            _this7.$forceUpdate();
          } else {

            uni.showToast({
              title: "种草失败！",
              position: 'bottom',
              icon: 'none' });

          }
        },
        complete: function complete() {

        } });

    },
    InputFocus: function InputFocus(e) {
      this.InputBottom = e.detail.height;
    },
    InputBlur: function InputBlur(e) {
      this.InputBottom = 0;
    },
    pinglun: function pinglun(e) {
      this.plnr = e.target.value;
      if (this.plnr.indexOf('@') == 0) {
        this.huifu = true;
      } else {
        this.huifu = false;
      }
    },
    onShareAppMessage: function onShareAppMessage(res) {
      if (res.from === 'button') {// 来自页面内分享按钮
        console.log(res.target);
      }
      return {
        title: this.postInfo.Content,
        path: '/pages/postinfo/postinfo?id=' + this.postid + '&type=fenxiang',
        desc: this.postInfo.Content,
        imageUrl: this.postInfo.PictureId[0] };

    },
    showImage: function showImage(res, c) {
      uni.previewImage({
        current: c,
        urls: res,
        longPressActions: {
          itemList: ['发送给朋友', '保存图片', '收藏'],
          success: function success(res) {

            uni.showToast({
              title: '选中了第' + (res.tapIndex + 1) + '个按钮',
              position: 'bottom',
              icon: 'none' });

            console.log('选中了第' + (res.tapIndex + 1) + '个按钮');
          },
          fail: function fail(res) {
            console.log(res.errMsg);
          } } });


    },
    sendpl: function sendpl(e) {var _this8 = this;
      console.log(this.plnr);
      if (this.plnr == "null" || this.plnr == "") {
        uni.showToast({
          title: "请输入评论内容！",
          position: 'bottom',
          icon: 'none',
          mask: true });

        return;
      }
      if (this.plnr.length > 300 || this.plnr.length < 1) {
        uni.showToast({
          title: "内容最少1个字，最多300字",
          position: 'bottom',
          icon: 'none',
          mask: true });

        return;
      }
      if (this.huifuid && this.huifu == true) {
        //回复评论模式
        //console.log("回复评论",this.plnr)
        var qian = this.plnr.substring(0, this.plnr.indexOf(':') + 1);
        var nr = this.plnr.replace(qian, "");
        uni.showLoading({
          title: '正在提交数据' });

        uni.request({
          method: 'POST',
          url: 'https://api.angeli.top/post.php?type=hfpl', //仅为示例，并非真实接口地址。
          data: {
            id: this.huifuid,
            txt: nr,
            postid: this.postid,
            uid: this.pluid,
            auid: _server.default.userinfo.Auid },

          header: {
            'content-type': 'application/x-www-form-urlencoded',
            'Cookie': _server.default.cookie,
            'system': _server.default.system },

          success: function success(res) {
            if (res.data.code == '1') {
              _this8.setvar = "";
              _this8.plnr = '';
              uni.request({
                method: 'GET',
                url: 'https://api.angeli.top/post.php?type=getpl', //仅为示例，并非真实接口地址。
                data: {
                  postid: _this8.postid },

                header: {
                  'content-type': 'application/x-www-form-urlencoded',
                  'Cookie': _server.default.cookie,
                  'system': _server.default.system },

                success: function success(res) {
                  console.log("————————————评论详情——————————");
                  _this8.pllist = res.data.data;
                  _this8.plnr == "";
                  console.log(_this8.pllist);

                } });

            }
            uni.showToast({
              title: res.data.msg,
              position: 'bottom',
              icon: 'none',
              duration: 2000,
              mask: true });



          },
          complete: function complete() {
            setTimeout(function () {
              uni.hideLoading();
            }, 2000);
          } });


      } else {
        //评论模式
        uni.showLoading({
          title: '正在提交数据' });

        uni.request({
          method: 'POST',
          url: 'https://api.angeli.top/post.php?type=pl', //仅为示例，并非真实接口地址。
          data: {
            auid: _server.default.userinfo.Auid,
            txt: this.plnr,
            postid: this.postid,
            uid: this.postInfo.AuthorId },

          header: {
            'content-type': 'application/x-www-form-urlencoded',
            'Cookie': _server.default.cookie,
            'system': _server.default.system },

          success: function success(res) {
            if (res.data.code == '1') {
              _this8.plnr = '';
              _this8.setvar = "";
              uni.request({
                method: 'GET',
                url: 'https://api.angeli.top/post.php?type=getpl', //仅为示例，并非真实接口地址。
                data: {
                  postid: _this8.postid },

                header: {
                  'content-type': 'application/x-www-form-urlencoded',
                  'Cookie': _server.default.cookie },

                success: function success(res) {
                  console.log("————————————评论详情——————————");
                  _this8.pllist = res.data.data;
                  console.log(_this8.pllist);
                  _this8.plnr == "";

                } });

            }
            uni.showToast({
              title: res.data.msg,
              position: 'bottom',
              icon: 'none',
              duration: 2000,
              mask: true });


          },
          complete: function complete() {
            setTimeout(function () {
              uni.hideLoading();
            }, 2000);
          } });

      }
    },
    dianzan: function dianzan(plid, index) {var _this9 = this;
      console.log("点赞");
      uni.request({
        method: 'GET',
        url: 'https://api.angeli.top/post.php?type=dianzan', //仅为示例，并非真实接口地址。
        data: {
          postid: plid },

        header: {
          'content-type': 'application/x-www-form-urlencoded',
          'Cookie': _server.default.cookie },

        success: function success(res) {
          if (res.data.code == "1") {
            var give = _this9.pllist[index].Give;
            console.log(give);
            give++;
            console.log(give);
            _this9.$set(_this9.pllist[index], "Give", give);
          }
          uni.showToast({
            title: res.data.msg,
            position: 'bottom',
            icon: 'none',
            duration: 2000 });

        } });

    },
    huifua: function huifua(e, n, plid, uid) {
      this.huifuid = e; //e=评论id
      this.setvar = "@" + n + ": ";
      this.huifu = true;
      this.pluid = uid; //父级评论id
      console.log("回复", e, n);
    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 65:
/*!**************************************************************************************!*\
  !*** D:/Web/angeli/app/pages/postinfo/postinfo.vue?vue&type=style&index=0&lang=css& ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _E_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_E_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_E_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_postinfo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./postinfo.vue?vue&type=style&index=0&lang=css& */ 66);
/* harmony import */ var _E_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_E_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_E_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_postinfo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_E_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_E_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_E_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_postinfo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _E_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_E_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_E_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_postinfo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _E_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_E_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_E_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_postinfo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_E_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_E_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_E_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_E_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_E_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_postinfo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 66:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/Web/angeli/app/pages/postinfo/postinfo.vue?vue&type=style&index=0&lang=css& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ })

},[[59,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/postinfo/postinfo.js.map